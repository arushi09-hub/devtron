# Upgrading Devtron 0.2.x to 0.3.x

## Prerequisites  
* Cluster setup
* Devtron installed
* At Least a single application should be deployed on Devtron.

### Follow the required steps to update the Devtron version 

#### STEP 1 

Delete the respective resources i.e, nats-operator , nats-streaming and nats-server using the following commands.

```bash
kubectl delete -f https://raw.githubusercontent.com/devtron-labs/devtron/v0.2.37/manifests/yamls/nats-operator.yaml
kubectl -n devtroncd delete -f https://raw.githubusercontent.com/devtron-labs/devtron/v0.2.37/manifests/yamls/nats-streaming.yaml
kubectl -n devtroncd delete -f https://raw.githubusercontent.com/devtron-labs/devtron/v0.2.37/manifests/yamls/nats-server.yaml
```


#### STEP 2

Verify the deletion of resources using the following commands. 

```bash
kubectl -n devtroncd get pods 
kubectl -n devtroncd get serviceaccount
kubectl -n devtroncd get clusterrole
```

#### STEP 3

After verifying the deletion of resources, execute the following command to edit and update the tag value in the installation-script of Devtron.

```bash
kubectl -n devtroncd edit installer 
```
Change the tag value as `main` in the url present inside spec

```bash
https://raw.githubusercontent.com/devtron-labs/devtron/main/manifests/installation-script
```


#### STEP 4 

After setting up everything, execute the following helm update command to upgrade the devtron version from 0.2.x to 0.3.x.

```bash
helm repo update
```


